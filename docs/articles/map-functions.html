<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Map Functions: A Complete Guide • SafeMapper</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Map Functions: A Complete Guide">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SafeMapper</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/quick-start.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Getting Started</h6></li>
    <li><a class="dropdown-item" href="../articles/quick-start.html">Quick Start (5 min)</a></li>
    <li><a class="dropdown-item" href="../articles/core-concepts.html">Core Concepts</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Function Guide</h6></li>
    <li><a class="dropdown-item" href="../articles/map-functions.html">Map Functions</a></li>
    <li><a class="dropdown-item" href="../articles/parallel-processing.html">Parallel Processing</a></li>
    <li><a class="dropdown-item" href="../articles/error-handling.html">Error Handling</a></li>
    <li><a class="dropdown-item" href="../articles/session-management.html">Session Management</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced Topics</h6></li>
    <li><a class="dropdown-item" href="../articles/real-world-examples.html">Real-World Examples</a></li>
    <li><a class="dropdown-item" href="../articles/best-practices.html">Best Practices</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Zaoqu-Liu/SafeMapper"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Map Functions: A Complete Guide</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Zaoqu-Liu/SafeMapper/blob/HEAD/vignettes/map-functions.Rmd" class="external-link"><code>vignettes/map-functions.Rmd</code></a></small>
      <div class="d-none name"><code>map-functions.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>SafeMapper provides a complete family of mapping functions that
correspond to all common functions in purrr. This article details the
usage and best practices for each function.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Zaoqu-Liu/SafeMapper" class="external-link">SafeMapper</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; SafeMapper: Fault-tolerant functional programming</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="function-family-overview">Function Family Overview<a class="anchor" aria-label="anchor" href="#function-family-overview"></a>
</h2>
<pre><code>┌─────────────────────────────────────────────────────────────────────────────┐
│                        SafeMapper Map Function Family                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   Single-Input Mapping (s_map family)                                        │
│   ┌────────────────────────────────────────────────────────────────────┐    │
│   │  s_map      ──► returns list                                       │    │
│   │  s_map_chr  ──► returns character vector                           │    │
│   │  s_map_dbl  ──► returns numeric vector                             │    │
│   │  s_map_int  ──► returns integer vector                             │    │
│   │  s_map_lgl  ──► returns logical vector                             │    │
│   │  s_map_dfr  ──► returns data.frame (row-bind)                      │    │
│   │  s_map_dfc  ──► returns data.frame (column-bind)                   │    │
│   └────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│   Dual-Input Mapping (s_map2 family)                                         │
│   ┌────────────────────────────────────────────────────────────────────┐    │
│   │  s_map2      ──► iterate two vectors simultaneously                │    │
│   │  s_map2_chr  ──► returns character vector                          │    │
│   │  s_map2_dbl  ──► returns numeric vector                            │    │
│   │  s_map2_int  ──► returns integer vector                            │    │
│   │  s_map2_lgl  ──► returns logical vector                            │    │
│   │  s_map2_dfr  ──► returns data.frame (row-bind)                     │    │
│   │  s_map2_dfc  ──► returns data.frame (column-bind)                  │    │
│   └────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│   Multi-Input Mapping                                                        │
│   ┌────────────────────────────────────────────────────────────────────┐    │
│   │  s_pmap  ──► iterate multiple vectors (parallel map)               │    │
│   │  s_imap  ──► iterate with index (indexed map)                      │    │
│   └────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│   Side-Effect Functions                                                      │
│   ┌────────────────────────────────────────────────────────────────────┐    │
│   │  s_walk   ──► execute side effects only, no return                 │    │
│   │  s_walk2  ──► dual-input walk                                      │    │
│   └────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘</code></pre>
</div>
<div class="section level2">
<h2 id="s_map-family-single-input-mapping">s_map Family: Single-Input Mapping<a class="anchor" aria-label="anchor" href="#s_map-family-single-input-mapping"></a>
</h2>
<div class="section level3">
<h3 id="s_map---basic-mapping">s_map - Basic Mapping<a class="anchor" aria-label="anchor" href="#s_map---basic-mapping"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Basic usage: returns a list</span></span>
<span><span class="va">squares</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [20%] Processing items 1-5 of 5</span></span>
<span><span class="co">#&gt; Completed 5 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">squares</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] 9</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; [1] 16</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[5]]</span></span>
<span><span class="co">#&gt; [1] 25</span></span>
<span></span>
<span><span class="co"># Using formula syntax (recommended)</span></span>
<span><span class="va">squares</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">~</span> <span class="va">.x</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [20%] Processing items 1-5 of 5</span></span>
<span><span class="co">#&gt; Completed 5 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">squares</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  1  4  9 16 25</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="s_map_chr---return-character-vector">s_map_chr - Return Character Vector<a class="anchor" aria-label="anchor" href="#s_map_chr---return-character-vector"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Convert numbers to formatted strings</span></span>
<span><span class="va">labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map_chr</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Item_"</span>, <span class="va">.x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [20%] Processing items 1-5 of 5</span></span>
<span><span class="co">#&gt; Completed 5 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">labels</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Item_1" "Item_2" "Item_3" "Item_4" "Item_5"</span></span>
<span></span>
<span><span class="co"># Extract character elements from lists</span></span>
<span><span class="va">persons</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Alice"</span>, age <span class="op">=</span> <span class="fl">25</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Bob"</span>, age <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Carol"</span>, age <span class="op">=</span> <span class="fl">28</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">names</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map_chr</a></span><span class="op">(</span><span class="va">persons</span>, <span class="op">~</span> <span class="va">.x</span><span class="op">$</span><span class="va">name</span><span class="op">)</span></span>
<span><span class="co">#&gt; [33%] Processing items 1-3 of 3</span></span>
<span><span class="co">#&gt; Completed 3 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">names</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Alice" "Bob"   "Carol"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="s_map_dbl---return-numeric-vector">s_map_dbl - Return Numeric Vector<a class="anchor" aria-label="anchor" href="#s_map_dbl---return-numeric-vector"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate square roots</span></span>
<span><span class="va">roots</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map_dbl</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">9</span>, <span class="fl">16</span>, <span class="fl">25</span><span class="op">)</span>, <span class="va">sqrt</span><span class="op">)</span></span>
<span><span class="co">#&gt; [20%] Processing items 1-5 of 5</span></span>
<span><span class="co">#&gt; Completed 5 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">roots</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5</span></span>
<span></span>
<span><span class="co"># Statistical calculations</span></span>
<span><span class="va">datasets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, mean <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>  b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, mean <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>,</span>
<span>  c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, mean <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">means</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map_dbl</a></span><span class="op">(</span><span class="va">datasets</span>, <span class="va">mean</span><span class="op">)</span></span>
<span><span class="co">#&gt; [33%] Processing items 1-3 of 3</span></span>
<span><span class="co">#&gt; Completed 3 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">means</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.0707892 5.1148568 9.9699526</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="s_map_int---return-integer-vector">s_map_int - Return Integer Vector<a class="anchor" aria-label="anchor" href="#s_map_int---return-integer-vector"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate string lengths</span></span>
<span><span class="va">words</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span><span class="op">)</span></span>
<span><span class="va">lengths</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map_int</a></span><span class="op">(</span><span class="va">words</span>, <span class="va">nchar</span><span class="op">)</span></span>
<span><span class="co">#&gt; [33%] Processing items 1-3 of 3</span></span>
<span><span class="co">#&gt; Completed 3 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">lengths</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5 6 6</span></span>
<span></span>
<span><span class="co"># Count list elements</span></span>
<span><span class="va">nested</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">counts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map_int</a></span><span class="op">(</span><span class="va">nested</span>, <span class="va">length</span><span class="op">)</span></span>
<span><span class="co">#&gt; [33%] Processing items 1-3 of 3</span></span>
<span><span class="co">#&gt; Completed 3 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">counts</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  3  5 10</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="s_map_lgl---return-logical-vector">s_map_lgl - Return Logical Vector<a class="anchor" aria-label="anchor" href="#s_map_lgl---return-logical-vector"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check conditions</span></span>
<span><span class="va">numbers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">12</span>, <span class="fl">15</span><span class="op">)</span></span>
<span><span class="va">is_even</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map_lgl</a></span><span class="op">(</span><span class="va">numbers</span>, <span class="op">~</span> <span class="va">.x</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#&gt; [20%] Processing items 1-5 of 5</span></span>
<span><span class="co">#&gt; Completed 5 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">is_even</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  TRUE FALSE  TRUE  TRUE FALSE</span></span>
<span></span>
<span><span class="co"># Check for null values</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="cn">NULL</span>, c <span class="op">=</span> <span class="fl">3</span>, d <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="va">has_value</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map_lgl</a></span><span class="op">(</span><span class="va">data</span>, <span class="op">~</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">.x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [25%] Processing items 1-4 of 4</span></span>
<span><span class="co">#&gt; Completed 4 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">has_value</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  TRUE FALSE  TRUE FALSE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="s_map_dfr---return-data-frame-row-bind">s_map_dfr - Return Data Frame (Row-Bind)<a class="anchor" aria-label="anchor" href="#s_map_dfr---return-data-frame-row-bind"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create multiple data frames and row-bind</span></span>
<span><span class="va">create_record</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    id <span class="op">=</span> <span class="va">id</span>,</span>
<span>    value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>    timestamp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">records</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map_dfr</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="va">create_record</span><span class="op">)</span></span>
<span><span class="co">#&gt; [20%] Processing items 1-5 of 5</span></span>
<span><span class="co">#&gt; Completed 5 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">records</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id      value           timestamp</span></span>
<span><span class="co">#&gt; 1  1 -0.3561244 2026-01-23 04:10:17</span></span>
<span><span class="co">#&gt; 2  2 -1.0644642 2026-01-23 04:10:17</span></span>
<span><span class="co">#&gt; 3  3  1.0771165 2026-01-23 04:10:17</span></span>
<span><span class="co">#&gt; 4  4  1.1815756 2026-01-23 04:10:17</span></span>
<span><span class="co">#&gt; 5  5  0.1983921 2026-01-23 04:10:17</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="s_map_dfc---return-data-frame-column-bind">s_map_dfc - Return Data Frame (Column-Bind)<a class="anchor" aria-label="anchor" href="#s_map_dfc---return-data-frame-column-bind"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create multiple columns and column-bind</span></span>
<span><span class="va">create_column</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">name</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">name</span></span>
<span>  <span class="va">df</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">columns</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map_dfc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>, <span class="va">create_column</span><span class="op">)</span></span>
<span><span class="co">#&gt; [33%] Processing items 1-3 of 3</span></span>
<span><span class="co">#&gt; Completed 3 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">columns</span><span class="op">)</span></span>
<span><span class="co">#&gt;            A          B         C</span></span>
<span><span class="co">#&gt; 1 -0.4004052  1.8846623 -1.169461</span></span>
<span><span class="co">#&gt; 2  0.6161543 -1.5886205  0.559106</span></span>
<span><span class="co">#&gt; 3  1.9741567 -0.5399232 -1.819347</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="s_map2-family-dual-input-mapping">s_map2 Family: Dual-Input Mapping<a class="anchor" aria-label="anchor" href="#s_map2-family-dual-input-mapping"></a>
</h2>
<pre><code>┌─────────────────────────────────────────────────────────────────┐
│                    s_map2 How It Works                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   .x = [a1, a2, a3, a4, a5]                                     │
│   .y = [b1, b2, b3, b4, b5]                                     │
│                                                                  │
│        │     │     │     │     │                                │
│        ▼     ▼     ▼     ▼     ▼                                │
│                                                                  │
│   .f(a1,b1) .f(a2,b2) .f(a3,b3) .f(a4,b4) .f(a5,b5)            │
│                                                                  │
│        │     │     │     │     │                                │
│        ▼     ▼     ▼     ▼     ▼                                │
│                                                                  │
│   Result: [r1,   r2,   r3,   r4,   r5]                          │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘</code></pre>
<div class="section level3">
<h3 id="s_map2-basic-usage">s_map2 Basic Usage<a class="anchor" aria-label="anchor" href="#s_map2-basic-usage"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Process two vectors simultaneously</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">10</span><span class="op">:</span><span class="fl">14</span></span>
<span></span>
<span><span class="co"># Calculate sums</span></span>
<span><span class="va">sums</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map2.html">s_map2</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="op">~</span> <span class="va">.x</span> <span class="op">+</span> <span class="va">.y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [20%] Processing items 1-5 of 5</span></span>
<span><span class="co">#&gt; Completed 5 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">sums</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 11 13 15 17 19</span></span>
<span></span>
<span><span class="co"># Calculate products</span></span>
<span><span class="va">products</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map2.html">s_map2_dbl</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="op">~</span> <span class="va">.x</span> <span class="op">*</span> <span class="va">.y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [20%] Processing items 1-5 of 5</span></span>
<span><span class="co">#&gt; Completed 5 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">products</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 10 22 36 52 70</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="practical-examples">Practical Examples<a class="anchor" aria-label="anchor" href="#practical-examples"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Batch create file paths</span></span>
<span><span class="va">dirs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"output"</span>, <span class="st">"logs"</span><span class="op">)</span></span>
<span><span class="va">files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"results.csv"</span>, <span class="st">"summary.txt"</span>, <span class="st">"debug.log"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">paths</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map2.html">s_map2_chr</a></span><span class="op">(</span><span class="va">dirs</span>, <span class="va">files</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">.x</span>, <span class="va">.y</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [33%] Processing items 1-3 of 3</span></span>
<span><span class="co">#&gt; Completed 3 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">paths</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "data/results.csv"   "output/summary.txt" "logs/debug.log"</span></span>
<span></span>
<span><span class="co"># Compare two vectors</span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">3</span>, <span class="fl">8</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">4</span><span class="op">)</span></span>
<span></span>
<span><span class="va">comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map2.html">s_map2_chr</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="va">y</span><span class="op">)</span> <span class="st">"greater"</span></span>
<span>  <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="va">y</span><span class="op">)</span> <span class="st">"less"</span></span>
<span>  <span class="kw">else</span> <span class="st">"equal"</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt; [20%] Processing items 1-5 of 5</span></span>
<span><span class="co">#&gt; Completed 5 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">comparison</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "less"    "greater" "less"    "greater" "less"</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="s_pmap-multi-input-mapping">s_pmap: Multi-Input Mapping<a class="anchor" aria-label="anchor" href="#s_pmap-multi-input-mapping"></a>
</h2>
<pre><code>┌─────────────────────────────────────────────────────────────────┐
│                    s_pmap How It Works                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   Input list:                                                    │
│   .l = list(                                                     │
│     a = [a1, a2, a3],                                           │
│     b = [b1, b2, b3],                                           │
│     c = [c1, c2, c3]                                            │
│   )                                                              │
│                                                                  │
│        │         │         │                                    │
│        ▼         ▼         ▼                                    │
│                                                                  │
│   .f(a1,b1,c1) .f(a2,b2,c2) .f(a3,b3,c3)                       │
│                                                                  │
│        │         │         │                                    │
│        ▼         ▼         ▼                                    │
│                                                                  │
│   Result: [r1,      r2,      r3]                                │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘</code></pre>
<div class="section level3">
<h3 id="s_pmap-basic-usage">s_pmap Basic Usage<a class="anchor" aria-label="anchor" href="#s_pmap-basic-usage"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use named parameter list</span></span>
<span><span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>  y <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">6</span>,</span>
<span>  z <span class="op">=</span> <span class="fl">7</span><span class="op">:</span><span class="fl">9</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate x + y * z</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_pmap.html">s_pmap</a></span><span class="op">(</span><span class="va">params</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span> <span class="va">x</span> <span class="op">+</span> <span class="va">y</span> <span class="op">*</span> <span class="va">z</span><span class="op">)</span></span>
<span><span class="co">#&gt; [33%] Processing items 1-3 of 3</span></span>
<span><span class="co">#&gt; Completed 3 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 29 42 57</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="combining-with-data-frames">Combining with Data Frames<a class="anchor" aria-label="anchor" href="#combining-with-data-frames"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Iterate over data frame rows</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Carol"</span><span class="op">)</span>,</span>
<span>  age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">30</span>, <span class="fl">28</span><span class="op">)</span>,</span>
<span>  city <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"New York"</span>, <span class="st">"London"</span>, <span class="st">"Tokyo"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create description for each row</span></span>
<span><span class="va">descriptions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_pmap.html">s_pmap</a></span><span class="op">(</span><span class="va">df</span>, <span class="kw">function</span><span class="op">(</span><span class="va">name</span>, <span class="va">age</span>, <span class="va">city</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%s is %d years old and lives in %s"</span>, <span class="va">name</span>, <span class="va">age</span>, <span class="va">city</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt; [33%] Processing items 1-3 of 3</span></span>
<span><span class="co">#&gt; Completed 3 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">descriptions</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Alice is 25 years old and lives in New York"</span></span>
<span><span class="co">#&gt; [2] "Bob is 30 years old and lives in London"    </span></span>
<span><span class="co">#&gt; [3] "Carol is 28 years old and lives in Tokyo"</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="s_imap-indexed-mapping">s_imap: Indexed Mapping<a class="anchor" aria-label="anchor" href="#s_imap-indexed-mapping"></a>
</h2>
<pre><code>┌─────────────────────────────────────────────────────────────────┐
│                    s_imap How It Works                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   Named vector:                     Unnamed vector:              │
│   .x = c(a=10, b=20, c=30)         .x = c(10, 20, 30)           │
│                                                                  │
│   In .f(.x, .y):                   In .f(.x, .y):               │
│   .x = value                       .x = value                    │
│   .y = name                        .y = position index           │
│                                                                  │
│   .f(10, "a")                      .f(10, 1)                     │
│   .f(20, "b")                      .f(20, 2)                     │
│   .f(30, "c")                      .f(30, 3)                     │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘</code></pre>
<div class="section level3">
<h3 id="s_imap-basic-usage">s_imap Basic Usage<a class="anchor" aria-label="anchor" href="#s_imap-basic-usage"></a>
</h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use named vector</span></span>
<span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>math <span class="op">=</span> <span class="fl">85</span>, english <span class="op">=</span> <span class="fl">92</span>, science <span class="op">=</span> <span class="fl">78</span><span class="op">)</span></span>
<span></span>
<span><span class="va">report</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_imap.html">s_imap</a></span><span class="op">(</span><span class="va">scores</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%s: %d points"</span>, <span class="va">.y</span>, <span class="va">.x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [33%] Processing items 1-3 of 3</span></span>
<span><span class="co">#&gt; Completed 3 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">report</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "math: 85 points"    "english: 92 points" "science: 78 points"</span></span>
<span></span>
<span><span class="co"># Use unnamed vector (get position index)</span></span>
<span><span class="va">items</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">indexed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_imap.html">s_imap</a></span><span class="op">(</span><span class="va">items</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"[%s] %s"</span>, <span class="va">.y</span>, <span class="va">.x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [33%] Processing items 1-3 of 3</span></span>
<span><span class="co">#&gt; Completed 3 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">indexed</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "[1] apple"  "[2] banana" "[3] cherry"</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="s_walk-family-side-effect-functions">s_walk Family: Side-Effect Functions<a class="anchor" aria-label="anchor" href="#s_walk-family-side-effect-functions"></a>
</h2>
<pre><code>┌─────────────────────────────────────────────────────────────────┐
│                    s_walk vs s_map                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   s_map:                                                         │
│   ├── Execute function                                          │
│   ├── Collect return values                                     │
│   └── Return result list                                        │
│                                                                  │
│   s_walk:                                                        │
│   ├── Execute function (usually side effects)                   │
│   ├── Ignore return values                                      │
│   └── Return input (for piping)                                 │
│                                                                  │
│   Use cases:                                                     │
│   ├── Writing to files                                          │
│   ├── Printing output                                           │
│   ├── Sending network requests (don't care about response)      │
│   └── Updating databases                                        │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘</code></pre>
<div class="section level3">
<h3 id="s_walk-basic-usage">s_walk Basic Usage<a class="anchor" aria-label="anchor" href="#s_walk-basic-usage"></a>
</h3>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Print output</span></span>
<span><span class="fu"><a href="../reference/s_walk.html">s_walk</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Processing item"</span>, <span class="va">.x</span>, <span class="st">"\n"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [33%] Processing items 1-3 of 3</span></span>
<span><span class="co">#&gt; Processing item 1 </span></span>
<span><span class="co">#&gt; Processing item 2 </span></span>
<span><span class="co">#&gt; Processing item 3</span></span>
<span><span class="co">#&gt; Completed 3 items</span></span>
<span></span>
<span><span class="co"># Can be used in pipelines</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/s_walk.html">s_walk</a></span><span class="op">(</span><span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Checking"</span>, <span class="va">.x</span>, <span class="st">"...\n"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># s_walk returns original input, can continue processing</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [20%] Processing items 1-5 of 5</span></span>
<span><span class="co">#&gt; Checking 1 ...</span></span>
<span><span class="co">#&gt; Checking 2 ...</span></span>
<span><span class="co">#&gt; Checking 3 ...</span></span>
<span><span class="co">#&gt; Checking 4 ...</span></span>
<span><span class="co">#&gt; Checking 5 ...</span></span>
<span><span class="co">#&gt; Completed 5 items</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Sum:"</span>, <span class="va">result</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Sum: 15"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="s_walk2-dual-input-side-effects">s_walk2 Dual-Input Side Effects<a class="anchor" aria-label="anchor" href="#s_walk2-dual-input-side-effects"></a>
</h3>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Batch write (example: print instead of actual write)</span></span>
<span><span class="va">files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"file1.txt"</span>, <span class="st">"file2.txt"</span>, <span class="st">"file3.txt"</span><span class="op">)</span></span>
<span><span class="va">contents</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Content A"</span>, <span class="st">"Content B"</span>, <span class="st">"Content C"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/s_walk.html">s_walk2</a></span><span class="op">(</span><span class="va">files</span>, <span class="va">contents</span>, <span class="kw">function</span><span class="op">(</span><span class="va">f</span>, <span class="va">c</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Would write to %s: '%s'\n"</span>, <span class="va">f</span>, <span class="va">c</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt; [33%] Processing items 1-3 of 3</span></span>
<span><span class="co">#&gt; Would write to file1.txt: 'Content A'</span></span>
<span><span class="co">#&gt; Would write to file2.txt: 'Content B'</span></span>
<span><span class="co">#&gt; Would write to file3.txt: 'Content C'</span></span>
<span><span class="co">#&gt; Completed 3 items</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="function-parameter-passing">Function Parameter Passing<a class="anchor" aria-label="anchor" href="#function-parameter-passing"></a>
</h2>
<p>All <code>s_map</code> family functions support passing additional
arguments via <code>...</code>:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pass additional arguments to function</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="cn">NA</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="cn">NA</span>, <span class="fl">7</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">11</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Pass na.rm = TRUE to mean function</span></span>
<span><span class="va">means</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map_dbl</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">mean</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [33%] Processing items 1-3 of 3</span></span>
<span><span class="co">#&gt; Completed 3 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">means</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  2.333333  6.666667 10.000000</span></span>
<span></span>
<span><span class="co"># Multiple additional arguments</span></span>
<span><span class="va">rounded</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map_dbl</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.234</span>, <span class="fl">2.567</span>, <span class="fl">3.891</span><span class="op">)</span>, <span class="va">round</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [33%] Processing items 1-3 of 3</span></span>
<span><span class="co">#&gt; Completed 3 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">rounded</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1.2 2.6 3.9</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="session-id-usage">Session ID Usage<a class="anchor" aria-label="anchor" href="#session-id-usage"></a>
</h2>
<p>All mapping functions support the <code>.session_id</code>
parameter:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Auto-generate session ID (recommended for most scenarios)</span></span>
<span><span class="va">result1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">~</span> <span class="va">.x</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [10%] Processing items 1-10 of 10</span></span>
<span><span class="co">#&gt; Completed 10 items</span></span>
<span></span>
<span><span class="co"># Manually specify session ID (for precise control scenarios)</span></span>
<span><span class="va">result2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">~</span> <span class="va">.x</span><span class="op">^</span><span class="fl">2</span>, .session_id <span class="op">=</span> <span class="st">"my_calculation_v1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [10%] Processing items 1-10 of 10</span></span>
<span><span class="co">#&gt; Completed 10 items</span></span>
<span></span>
<span><span class="co"># Different session IDs don't affect each other</span></span>
<span><span class="va">result3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">~</span> <span class="va">.x</span><span class="op">^</span><span class="fl">2</span>, .session_id <span class="op">=</span> <span class="st">"my_calculation_v2"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [10%] Processing items 1-10 of 10</span></span>
<span><span class="co">#&gt; Completed 10 items</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="performance-considerations">Performance Considerations<a class="anchor" aria-label="anchor" href="#performance-considerations"></a>
</h2>
<pre><code>┌─────────────────────────────────────────────────────────────────┐
│                    Performance Optimization Tips                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   1. Batch Size Selection                                        │
│      ├── Fast ops (&lt; 10ms/item): batch_size = 500-1000          │
│      ├── Medium ops (10-100ms/item): batch_size = 100 (default) │
│      └── Slow ops (&gt; 100ms/item): batch_size = 10-50            │
│                                                                  │
│   2. Choose Appropriate Output Type                              │
│      ├── s_map: Most flexible, but more memory                  │
│      └── s_map_dbl/chr/lgl: More compact, better performance    │
│                                                                  │
│   3. Use Parallel Versions                                       │
│      ├── CPU-intensive tasks ──► s_future_map                   │
│      └── I/O-intensive tasks ──► Usually no parallelism needed  │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘</code></pre>
</div>
<div class="section level2">
<h2 id="common-patterns">Common Patterns<a class="anchor" aria-label="anchor" href="#common-patterns"></a>
</h2>
<div class="section level3">
<h3 id="pattern-1-data-transformation-pipeline">Pattern 1: Data Transformation Pipeline<a class="anchor" aria-label="anchor" href="#pattern-1-data-transformation-pipeline"></a>
</h3>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use pipeline for data transformation</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span>
<span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/s_map.html">s_map_dbl</a></span><span class="op">(</span><span class="op">~</span> <span class="va">.x</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span>     <span class="co"># Square</span></span>
<span>  <span class="fu"><a href="../reference/s_map.html">s_map_dbl</a></span><span class="op">(</span><span class="op">~</span> <span class="va">.x</span> <span class="op">+</span> <span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span>  <span class="co"># Add 10</span></span>
<span>  <span class="fu"><a href="../reference/s_map.html">s_map_chr</a></span><span class="op">(</span><span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%.1f"</span>, <span class="va">.x</span><span class="op">)</span><span class="op">)</span>  <span class="co"># Format</span></span>
<span><span class="co">#&gt; [10%] Processing items 1-10 of 10</span></span>
<span><span class="co">#&gt; Completed 10 items</span></span>
<span><span class="co">#&gt; [10%] Processing items 1-10 of 10</span></span>
<span><span class="co">#&gt; Completed 10 items</span></span>
<span><span class="co">#&gt; [10%] Processing items 1-10 of 10</span></span>
<span><span class="co">#&gt; Completed 10 items</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "11.0"  "14.0"  "19.0"  "26.0"  "35.0"  "46.0"  "59.0"  "74.0"  "91.0" </span></span>
<span><span class="co">#&gt; [10] "110.0"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pattern-2-conditional-processing">Pattern 2: Conditional Processing<a class="anchor" aria-label="anchor" href="#pattern-2-conditional-processing"></a>
</h3>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Execute different operations based on conditions</span></span>
<span><span class="va">values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">3</span>, <span class="op">-</span><span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span></span>
<span></span>
<span><span class="va">processed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map_dbl</a></span><span class="op">(</span><span class="va">values</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">*</span> <span class="fl">2</span></span>
<span>  <span class="kw">else</span> <span class="va">x</span><span class="op">^</span><span class="fl">2</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt; [20%] Processing items 1-5 of 5</span></span>
<span><span class="co">#&gt; Completed 5 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">processed</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  4  0  9 10 49</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pattern-3-safe-null-handling">Pattern 3: Safe NULL Handling<a class="anchor" aria-label="anchor" href="#pattern-3-safe-null-handling"></a>
</h3>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Handle data that might contain NULLs</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="cn">NULL</span>, c <span class="op">=</span> <span class="fl">3</span>, d <span class="op">=</span> <span class="cn">NULL</span>, e <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use s_map with conditional check</span></span>
<span><span class="va">safe_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/s_map.html">s_map_dbl</a></span><span class="op">(</span><span class="va">data</span>, <span class="op">~</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">.x</span><span class="op">)</span><span class="op">)</span> <span class="cn">NA_real_</span> <span class="kw">else</span> <span class="va">.x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [20%] Processing items 1-5 of 5</span></span>
<span><span class="co">#&gt; Completed 5 items</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">safe_values</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  1 NA  3 NA  5</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h2>
<ul>
<li>⚡ <a href="parallel-processing.html">Parallel Processing</a> -
Speed up with s_future_map</li>
<li>🛡️ <a href="error-handling.html">Error Handling</a> - Use
s_safely/s_possibly</li>
<li>📋 <a href="session-management.html">Session Management</a> - Manage
checkpoints and config</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/Zaoqu-Liu" class="external-link">Zaoqu Liu</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
